

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Analyzing Google Trends</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/google_trends/Morocco_GoogleTrends';</script>
    <link rel="canonical" href="https://datapartnership.org/morocco-earthquake-impact/README.html/notebooks/google_trends/Morocco_GoogleTrends.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Night Time Lights in Morocco" href="../ntl-analysis/README.html" />
    <link rel="prev" title="Analysing business activity trends in Morocco" href="../business-activity-trends/01-business-activity-trends.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Oct 12, 2023"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../README.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Strategic Brief</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../docs/morocco-earthquake-strategic-brief.html">Data Lab Strategic Brief: Morocco Earthquake Impact Monitoring</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Goods Overview and Foundational Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../docs/introduction_to_data_goods.html">Introduction to Data Goods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docs/foundational_datasets_and_data_products.html">Foundational Datasets and Data Products Summary</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Products</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../earthquake-intensity/earthquake_intensity.html">Earthquake Intensity Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../network-connectivity/meta-network-connectivity.html">Meta Network Coverage Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../population/settlement.html">Building Footprint and Settlement Map</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../business-activity-trends/README.html">Business Activity Trends</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../business-activity-trends/01-business-activity-trends.html">Analysing business activity trends in Morocco</a></li>
</ul>
</li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Analyzing Google Trends</a></li>

<li class="toctree-l1"><a class="reference internal" href="../ntl-analysis/README.html">Night Time Lights in Morocco</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../docs/drought-index.html">Drought</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../docs/drought-summary.html">Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../docs/drought-eo.html">Satellite-based monitoring of drought conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../docs/drought-howto-spianalysis.html">How-to guide SPI analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../docs/drought-howto-characteristics.html">How-to guide SPI-based drought characteristics</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Sample Indicators and Insights</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../visualizing-drought.html">Visualizing Standardized Precipitation Index</a></li>

<li class="toctree-l1"><a class="reference internal" href="../conflict-acled.html">Conflict and Drought</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Acknowledgements</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../docs/team.html">Data Goods Team and Acknowledgements</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/datapartnership/morocco-earthquake-impact" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/datapartnership/morocco-earthquake-impact/edit/main/notebooks/google_trends/Morocco_GoogleTrends.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/datapartnership/morocco-earthquake-impact/issues/new?title=Issue%20on%20page%20%2Fnotebooks/google_trends/Morocco_GoogleTrends.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/notebooks/google_trends/Morocco_GoogleTrends.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Analyzing Google Trends</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Analyzing Google Trends</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lists-of-commonly-used-travel-search-terms-in-different-languages-catering-to-united-states-united-kingdom-france-germany-and-spain">Lists of commonly used travel search terms in different languages catering to United States, United Kingdom, France, Germany and Spain.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-the-trends-for-the-past-3-years-for-the-same-time-period-jan-sept">Comparing the trends for the past 3 years for the same time period (Jan - Sept)</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#prediction">Prediction</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">dt</span>

<span class="kn">from</span> <span class="nn">googleapiclient.discovery</span> <span class="kn">import</span> <span class="n">build</span>

<span class="kn">from</span> <span class="nn">statsmodels.tsa.filters.hp_filter</span> <span class="kn">import</span> <span class="n">hpfilter</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>

<span class="kn">from</span> <span class="nn">pandas.plotting</span> <span class="kn">import</span> <span class="n">autocorrelation_plot</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.holtwinters</span> <span class="kn">import</span> <span class="n">SimpleExpSmoothing</span><span class="p">,</span> <span class="n">Holt</span><span class="p">,</span> <span class="n">ExponentialSmoothing</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span> 
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span> 

<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="c1">#from credentials import get_key</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<section id="analyzing-google-trends">
<h1>Analyzing Google Trends<a class="headerlink" href="#analyzing-google-trends" title="Permalink to this heading">#</a></h1>
<p>This analysis tries to answer the question if the recent earthquake in Morocco has or will affect the tourism industry. We make use of proprietary Google Trends data that gives us weekly data scaled to the highest result from 0 to 100 i.e. 100 representing the highest proportion for the terms queried within the selected region and time frame and zero the lowest.</p>
<p>Since the team wanted to focus on 5 countries in specific, that make up for the highest number of visitors in Morocco, we created lists of commonly used terms that people tend to use to plan their holidays with Google Search. The kinds of searches that users perform can be a good proxy for the public’s interests, concerns or intentions, but these searches do not necessarily represent users’ opinions. Therefore we use statistical methods to come up with a probabilistic analysis of impact on Morocco’s tourism industry.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Google</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Wrapper class for handling authentication and requests (GET) to Google API</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    token : str</span>
<span class="sd">        Google API token</span>
<span class="sd">        </span>
<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    For more information, please see https://developers.google.com/apis-explorer</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TOKEN</span> <span class="o">=</span> <span class="n">token</span> <span class="k">if</span> <span class="n">token</span> <span class="k">else</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;GOOGLE_TOKEN&quot;</span><span class="p">)</span>
        
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">service</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Authenticate and instantiate Google API service&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">build</span><span class="p">(</span><span class="s1">&#39;trends&#39;</span><span class="p">,</span> <span class="s1">&#39;v1beta&#39;</span><span class="p">,</span> <span class="n">static_discovery</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">developerKey</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOKEN</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get result from Google API method&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">service</span><span class="p">,</span> <span class="n">method</span><span class="p">)(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
    
    
    <span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Download result from Google API method&quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;getGraph&quot;</span><span class="p">,</span> <span class="s2">&quot;getTimelinesForHealth&quot;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Method not supported.&quot;</span><span class="p">)</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
        
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">json_normalize</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;lines&quot;</span><span class="p">],</span> <span class="n">meta</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;term&quot;</span><span class="p">],</span> <span class="n">record_path</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;points&quot;</span><span class="p">])</span> 
        
        <span class="n">params</span> <span class="o">=</span> <span class="s2">&quot;+&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">params</span><span class="si">}</span><span class="s2">.csv&quot;</span>

        <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use your Google Trends API key here instead</span>
<span class="n">google</span> <span class="o">=</span> <span class="n">Google</span><span class="p">(</span><span class="n">get_key</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<section id="lists-of-commonly-used-travel-search-terms-in-different-languages-catering-to-united-states-united-kingdom-france-germany-and-spain">
<h2>Lists of commonly used travel search terms in different languages catering to United States, United Kingdom, France, Germany and Spain.<a class="headerlink" href="#lists-of-commonly-used-travel-search-terms-in-different-languages-catering-to-united-states-united-kingdom-france-germany-and-spain" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eng_terms</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;morocco flights&#39;</span><span class="p">,</span> <span class="s1">&#39;morocco hotels&#39;</span><span class="p">,</span> <span class="s1">&#39;marrakesh&#39;</span><span class="p">,</span> <span class="s1">&#39;marrakesh hotels&#39;</span><span class="p">,</span> <span class="s1">&#39;casablanca morocco&#39;</span><span class="p">,</span><span class="s1">&#39;casablanca hotels&#39;</span><span class="p">,</span> 
         <span class="s1">&#39;casablanca flights&#39;</span><span class="p">,</span> <span class="s1">&#39;casablanca travel&#39;</span><span class="p">,</span> <span class="s1">&#39;morocco tourist attractions&#39;</span><span class="p">,</span> <span class="s1">&#39;things to do in morocco&#39;</span><span class="p">,</span> <span class="s1">&#39;things to do in casablanca&#39;</span><span class="p">,</span>
         <span class="s2">&quot;moroccan cuisine&quot;</span><span class="p">,</span> <span class="s2">&quot;beaches in morocco&quot;</span><span class="p">,</span> <span class="s2">&quot;Safety in Morocco&quot;</span><span class="p">,</span> <span class="s2">&quot;transportation in Morocco&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">french_terms</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;séjour à marrakech&#39;</span><span class="p">,</span> <span class="s2">&quot;vacance maroc&quot;</span><span class="p">,</span> <span class="s2">&quot;voyages marrakech&quot;</span><span class="p">,</span> <span class="s2">&quot;billet avion Maroc&quot;</span><span class="p">,</span> <span class="s2">&quot;casablanca hotels&quot;</span><span class="p">,</span> <span class="s2">&quot;marrakech hotels&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Cuisine marocaine&quot;</span><span class="p">,</span> <span class="s2">&quot;Sécurité au Maroc&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spanish_terms</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Vuelos a Marruecos&#39;</span><span class="p">,</span> <span class="s1">&#39;Hoteles en Marruecos&#39;</span><span class="p">,</span> <span class="s1">&#39;Casablanca Marruecos&#39;</span><span class="p">,</span> <span class="s1">&#39;Hoteles en Casablanca&#39;</span><span class="p">,</span> <span class="s1">&#39;Vuelos a Casablanca&#39;</span><span class="p">,</span> <span class="s1">&#39;Viaje a Marruecos&#39;</span><span class="p">,</span> <span class="s1">&#39;Que hacer en Marruecos&#39;</span><span class="p">,</span>
                 <span class="s2">&quot;Rutas por Marruecos&quot;</span><span class="p">,</span> <span class="s2">&quot;Playas en Marruecos&quot;</span><span class="p">,</span> <span class="s2">&quot;Seguridad en Marruecos&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">german_terms</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Marokko Hotels&#39;</span><span class="p">,</span> <span class="s1">&#39;Hotels in Marrakesch&#39;</span><span class="p">,</span> <span class="s2">&quot;things to do in morocco&quot;</span><span class="p">,</span> <span class="s2">&quot;Pauschalreisen Marokko&quot;</span><span class="p">,</span> <span class="s2">&quot;Marokko Sehenswürdigkeiten&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Marokko Rundreise&quot;</span><span class="p">,</span> <span class="s2">&quot;Marokko Strände&quot;</span><span class="p">,</span> <span class="s2">&quot;Marokko Sicherheit&quot;</span><span class="p">,</span> <span class="s2">&quot;Marokko Transport&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">con_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;US&quot;</span> <span class="p">:</span>  <span class="s2">&quot;United States&quot;</span><span class="p">,</span> <span class="s2">&quot;GB&quot;</span> <span class="p">:</span> <span class="s2">&quot;United Kingdom&quot;</span><span class="p">,</span> <span class="s2">&quot;ES&quot;</span> <span class="p">:</span> <span class="s2">&quot;Spain&quot;</span><span class="p">,</span> <span class="s2">&quot;FR&quot;</span> <span class="p">:</span> <span class="s2">&quot;France&quot;</span><span class="p">,</span> <span class="s2">&quot;DE&quot;</span> <span class="p">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_df</span><span class="p">(</span><span class="n">terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to get a dataframe for specified list of terms, country iso2 code and start/end date strings</span>

<span class="sd">    Return:</span>
<span class="sd">    Pandas Dataframe</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">terms</span><span class="p">:</span>
        <span class="n">filters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;terms&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">term</span><span class="p">],</span>
            <span class="s1">&#39;restrictions_geo&#39;</span><span class="p">:</span> <span class="n">country</span><span class="p">,</span>
            <span class="s1">&#39;restrictions_startDate&#39;</span><span class="p">:</span> <span class="n">start_date</span><span class="p">,</span>
            <span class="s1">&#39;restrictions_endDate&#39;</span> <span class="p">:</span> <span class="n">end_date</span>
        <span class="p">}</span>

        <span class="n">r</span> <span class="o">=</span> <span class="n">google</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;getGraph&#39;</span><span class="p">,</span> <span class="n">filters</span><span class="p">)</span>
        <span class="n">df_</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s2">&quot;lines&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;points&quot;</span><span class="p">])</span>
        <span class="n">df_</span><span class="p">[</span><span class="s1">&#39;query&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">term</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_</span><span class="p">],</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">trenddetector</span><span class="p">(</span><span class="n">list_of_index</span><span class="p">,</span> <span class="n">array_of_data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Helper function to detect upward or downward trend in time series using `order` degree polynomial function</span>

<span class="sd">    Returns:</span>
<span class="sd">    Slope of the polynomial function </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">list_of_index</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">array_of_data</span><span class="p">),</span> <span class="n">order</span><span class="p">)</span>
    <span class="n">slope</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">slope</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to retrieve country level data for each of the search terms and return an aggregated Dataframe</span>

<span class="sd">    Returns:</span>
<span class="sd">    Pandas Dataframe</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">country</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;GB&#39;</span><span class="p">]:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">eng_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;FR&#39;</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">french_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;ES&#39;</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">spanish_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;DE&#39;</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">german_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>

    <span class="n">df_grp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">df_grp</span>

<span class="k">def</span> <span class="nf">get_country_stats</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to compute trend for a given country. </span>
<span class="sd">    It prints out the results as upward/downward trend for a given time series</span>

<span class="sd">    Returns:</span>
<span class="sd">    None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">country</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;GB&#39;</span><span class="p">]:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">eng_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;FR&#39;</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">french_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;ES&#39;</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">spanish_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">country</span> <span class="o">==</span> <span class="s1">&#39;DE&#39;</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">german_terms</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>

    <span class="n">df_grp</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

    <span class="n">stat</span> <span class="o">=</span> <span class="n">trenddetector</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">df_grp</span><span class="o">.</span><span class="n">index</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">df_grp</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">stat</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Upward trend: </span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downward trend: </span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No trend&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Looking at the latest available data for the selected countries (for the time period Jan-2023 - latest available date from Google Trends API)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_initial_trends</span><span class="p">(</span><span class="n">country</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2023-01&quot;</span><span class="p">)</span>

    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">dt</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%b-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">markers</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">con_dict</span><span class="p">[</span><span class="n">country</span><span class="p">]</span><span class="si">}</span><span class="s2"> search trends for the year 2023&quot;</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">country</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;GB&#39;</span><span class="p">,</span> <span class="s1">&#39;FR&#39;</span><span class="p">,</span> <span class="s1">&#39;ES&#39;</span><span class="p">,</span> <span class="s1">&#39;DE&#39;</span><span class="p">]:</span>
    <span class="n">df_</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2023-01&quot;</span><span class="p">)</span>

    <span class="n">df_</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">con_dict</span><span class="p">[</span><span class="n">country</span><span class="p">]</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_</span><span class="p">])</span>
    <span class="c1">#plot_initial_trends(country)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">dt</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%b-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="n">markers</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Google Search Trends for the year 2023&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span>
        <span class="n">title_text</span> <span class="o">=</span> <span class="s2">&quot;Scaled Value&quot;</span><span class="p">,</span>
        <span class="n">title_standoff</span> <span class="o">=</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_xaxes</span><span class="p">(</span>
        <span class="n">title_text</span> <span class="o">=</span> <span class="s2">&quot;Date&quot;</span><span class="p">,</span>
        <span class="n">title_standoff</span> <span class="o">=</span> <span class="mi">25</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">## Show all in one graph or split across 5?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Google Search Trends for the year 2023&quot;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/98bf704b12d5e46cf7359c478a9ef8f3eb6d0e581bd2fd75c0774b859943fc99.png" src="../../_images/98bf704b12d5e46cf7359c478a9ef8f3eb6d0e581bd2fd75c0774b859943fc99.png" />
</div>
</div>
</section>
<section id="comparing-the-trends-for-the-past-3-years-for-the-same-time-period-jan-sept">
<h2>Comparing the trends for the past 3 years for the same time period (Jan - Sept)<a class="headerlink" href="#comparing-the-trends-for-the-past-3-years-for-the-same-time-period-jan-sept" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_charts</span><span class="p">(</span><span class="n">country</span><span class="p">):</span>
    <span class="n">df_curr</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2023-01&quot;</span><span class="p">)</span>
    <span class="n">df_year1</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2022-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-09&quot;</span><span class="p">)</span>
    <span class="n">df_year2</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2021-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2021-09&quot;</span><span class="p">)</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">df_curr</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
    <span class="n">df_year1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">df_year2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">handles</span><span class="p">,</span> <span class="n">previous_labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;2023 trends (Jan-Sept)&quot;</span><span class="p">,</span> <span class="s2">&quot;2022 trends (Jan-Sept)&quot;</span><span class="p">,</span> <span class="s2">&quot;2021 trends (Jan-Sept)&quot;</span><span class="p">])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">con_dict</span><span class="p">[</span><span class="n">country</span><span class="p">]</span><span class="si">}</span><span class="s2"> Trends Analysis&quot;</span><span class="p">);</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_charts</span><span class="p">(</span><span class="s2">&quot;US&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/6ec86cefec5760c60cf6908bf0253feabdb3d1e67ac279dad00fad78957ca81b.png" src="../../_images/6ec86cefec5760c60cf6908bf0253feabdb3d1e67ac279dad00fad78957ca81b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_charts</span><span class="p">(</span><span class="s2">&quot;GB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/d9beeba7fb36aa863b1d24b84b7195418c4c8b094e65c55b933e29bec69102c8.png" src="../../_images/d9beeba7fb36aa863b1d24b84b7195418c4c8b094e65c55b933e29bec69102c8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_charts</span><span class="p">(</span><span class="s2">&quot;FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/9cc3392816175b8d96f1cba1c41b2fe8b0296bd00cb131a1a4577f74c33e0445.png" src="../../_images/9cc3392816175b8d96f1cba1c41b2fe8b0296bd00cb131a1a4577f74c33e0445.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_charts</span><span class="p">(</span><span class="s2">&quot;ES&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/3982a521a48ef48e10a4b158860b8a378162ab85c8e61843e5dceff46ee51aa2.png" src="../../_images/3982a521a48ef48e10a4b158860b8a378162ab85c8e61843e5dceff46ee51aa2.png" />
</div>
</div>
<p>Overall, as expected, 2021 saw very little search travel terms to Morocco because of COVID restrictions and people not willing to travel internationally unless things were safer. 2022 was one of the busiest year for travel in a decade and the trends in plots above show that. For 2023, the trends have gone down by a little but some months show spikes in search for travel terms.</p>
</section>
</section>
<section id="prediction">
<h1>Prediction<a class="headerlink" href="#prediction" title="Permalink to this heading">#</a></h1>
<p>To predict if the tourism will be impacted using Google Trends data, we’ll collect the data points for set query terms from 2019 to latest available date (removing the time periods when the country was under COVID lockdown).</p>
<p>Specific terms related to flight/hotel cancellation were used but Google Trends did not have enough data to show that. This prediction is solely based on yearly trends and seasonality.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">predict_trends</span><span class="p">(</span><span class="n">country</span><span class="p">):</span>
    <span class="n">df1</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2019-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-03&quot;</span><span class="p">)</span>
    <span class="n">df2</span> <span class="o">=</span> <span class="n">get_country_df</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="s2">&quot;2021-10&quot;</span><span class="p">)</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">])</span>

    <span class="c1">## Removing effects due to seasonality from the time series</span>
    
    <span class="n">result_mul</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;multiplicative&#39;</span><span class="p">,</span> <span class="n">extrapolate_trend</span><span class="o">=</span><span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="n">period</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">deseason</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="n">result_mul</span><span class="o">.</span><span class="n">seasonal</span>

    <span class="c1">##spilitting the data into train/test set</span>

    <span class="n">Train</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">deseason</span><span class="p">[:</span><span class="o">-</span><span class="mi">60</span><span class="p">],</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
    <span class="n">valid</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">deseason</span><span class="p">[</span><span class="o">-</span><span class="mi">60</span><span class="p">:],</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>

    <span class="c1">## Fitting the data to Holt&#39;s model</span>
    <span class="n">y_hat_avg</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">valid</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> 
    <span class="n">fit1</span> <span class="o">=</span> <span class="n">Holt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">Train</span><span class="o">.</span><span class="n">value</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="c1">#smoothing_level = 0.3, smoothing_slope = 0.1</span>
    <span class="n">y_hat_avg</span><span class="p">[</span><span class="s1">&#39;Holt_linear&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fit1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">))</span>

    <span class="n">rms</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">valid</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">y_hat_avg</span><span class="o">.</span><span class="n">Holt_linear</span><span class="p">))</span> 
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RMS error for </span><span class="si">{</span><span class="n">con_dict</span><span class="p">[</span><span class="n">country</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;s data is </span><span class="si">{</span><span class="n">rms</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">y_hat_avg</span><span class="p">[</span><span class="s1">&#39;date_ordinal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">y_hat_avg</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">toordinal</span><span class="p">)</span>
    <span class="n">slope</span><span class="p">,</span> <span class="n">intercept</span><span class="p">,</span> <span class="n">r_value</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">std_err</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">y_hat_avg</span><span class="p">[</span><span class="s1">&#39;date_ordinal&#39;</span><span class="p">],</span> <span class="n">y_hat_avg</span><span class="p">[</span><span class="s1">&#39;Holt_linear&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">slope</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Upward trend: </span><span class="si">{</span><span class="n">slope</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">slope</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downward trend: </span><span class="si">{</span><span class="n">slope</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No trend&quot;</span><span class="p">)</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Train</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;training data&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">valid</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;test data&#39;</span><span class="p">)</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_hat_avg</span><span class="p">[</span><span class="s1">&#39;Holt_linear&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;predicted data&#39;</span><span class="p">)</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span> <span class="o">=</span> <span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predict_trends</span><span class="p">(</span><span class="s2">&quot;US&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMS error for United States&#39;s data is 6.941
Downward trend: -0.014384922109933173
</pre></div>
</div>
<img alt="../../_images/77e15c58c86648286bfb28be9a906f6f35f70aaf7700119b91284275e69e6475.png" src="../../_images/77e15c58c86648286bfb28be9a906f6f35f70aaf7700119b91284275e69e6475.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predict_trends</span><span class="p">(</span><span class="s2">&quot;ES&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMS error for Spain&#39;s data is 7.596
Upward trend: 0.0019244376058693243
</pre></div>
</div>
<img alt="../../_images/225c64734dc4c0c2f837ed93b11b13031324b30ed55de4f7d70ac099f1b0787c.png" src="../../_images/225c64734dc4c0c2f837ed93b11b13031324b30ed55de4f7d70ac099f1b0787c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predict_trends</span><span class="p">(</span><span class="s2">&quot;FR&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMS error for France&#39;s data is 8.343
Downward trend: -0.004697428513866839
</pre></div>
</div>
<img alt="../../_images/2fcb26a9d95337e4366468a0560f2f8d3fd29f06a8193ab298c73fbebe410ac8.png" src="../../_images/2fcb26a9d95337e4366468a0560f2f8d3fd29f06a8193ab298c73fbebe410ac8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predict_trends</span><span class="p">(</span><span class="s2">&quot;DE&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMS error for Germany&#39;s data is 10.658
Downward trend: -0.036836319921719665
</pre></div>
</div>
<img alt="../../_images/499bceb1ece9104a4f067813155ed346deca538644d0b76565d8367281663f18.png" src="../../_images/499bceb1ece9104a4f067813155ed346deca538644d0b76565d8367281663f18.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predict_trends</span><span class="p">(</span><span class="s2">&quot;GB&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RMS error for United Kingdom&#39;s data is 5.945
Downward trend: -0.007824603167199492
</pre></div>
</div>
<img alt="../../_images/5cd0c6e22232d23683b273568e4b44855890446fce8da2d8a163d12f13a37c80.png" src="../../_images/5cd0c6e22232d23683b273568e4b44855890446fce8da2d8a163d12f13a37c80.png" />
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/google_trends"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../business-activity-trends/01-business-activity-trends.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Analysing business activity trends in Morocco</p>
      </div>
    </a>
    <a class="right-next"
       href="../ntl-analysis/README.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Night Time Lights in Morocco</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Analyzing Google Trends</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lists-of-commonly-used-travel-search-terms-in-different-languages-catering-to-united-states-united-kingdom-france-germany-and-spain">Lists of commonly used travel search terms in different languages catering to United States, United Kingdom, France, Germany and Spain.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comparing-the-trends-for-the-past-3-years-for-the-same-time-period-jan-sept">Comparing the trends for the past 3 years for the same time period (Jan - Sept)</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#prediction">Prediction</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By World Bank
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Oct 12, 2023.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>
    <b>All content (unless otherwise specified) is subject to the <a href="https://raw.githubusercontent.com/worldbank/template/main/LICENSE">World Bank Master Community License Agreement.</a></b>
</div>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>